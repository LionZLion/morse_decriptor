# Morse Code Signal Generator

Проект является частью более масштабного проекта по интерактивному сайту по обработке сигналов.
В текущем проекте реализована генерации синтетического датасета из Азбуки Морзе. Генерация происходит в формате `.wav`,
и сохраняется в формате `./signals/name.wav`.

---

## Возможности

- Преобразование текстовых сообщений (на русском) в сигналы Морзе Произвольной длины.
- Генерация временных сигналов с заданной частотой, длительностью, фазой.
- Добавление белого шума с разными среднеквадратичными отклонениями.
- Сохранение сигналов в `.wav` файлы для последующей обработки или обучения модели.
- 
## Структура проекта

```
morse_dataset
├── wav_morse.py            # Основной модуль генерации сигнала Морзе 
├── word_to_morse.py        # Генерация кода Морзе
├── morse_dataset.py        # Генерация файла CSV и JSON-словаря
├── noise.py                # Функция шума (различные типы)
├── signals/
│   └── /                   # Сохранённые .wav файлы
├── train_df.csv            # CSV-файл с сообщениями
├── morse_dict.json         # Словарь с кодом морзе
├── README.md               # Этот файл
```

---

## Быстрый старт

1. Установи зависимости:

```bash
pip install numpy tqdm matplotlib
```

2. Сгенерируйте CSV и JSON необходимого размера из случайных последовательностей символов
длиной 2-15 букв каждое.

```python
from morse_dataset.morse_dataset import dataset_create

dataset_create(size=1000)
```


3. Сгенерируйте датасет аудиофайлов:

```python
from morse_dataset.wav_morse import wav_save
# dt - Число отсчётов. Время точки = dt / 48000
dt = 3000
# Частота
nu = 1000
# Частота дискретизации
fs = 48000

# Сохраните пути до аудиофайлов в датафрейм
train_df = wav_save(dt, nu, noise=True, dataset_path='morse_dataset.csv', fs=48000)

```

---

| Параметр        | Описание                       | Пример   |
|-----------------|--------------------------------|----------|
| `dt`            | Длительность одной точки       | 3000     |
| `nu`            | Частота синуса (Гц)            | 1000     |
| `noise`         | Добавлять ли белый шум (bool)  | True     |
| `dataset_path`  | Путь и название до CSV         | name.csv |
| `fs`            | Частота дискретизации          | 48000    |

## Генерация одного сигнала

```python
from morse_dataset.word_to_morse import morse_generator
from scipy.io import wavfile

msg = 'привет'
signal = morse_generator(msg, dt=1000, nu=1000, noise=True, dev=0.5)
signal = np.float32(signal / np.max(np.abs(signal)))

wavfile.write(f"./user_signal.wav", fs, signal)

```

---

| Параметр        | Описание                       | Пример   |
|-----------------|--------------------------------|----------|
| `msg`           | Сообщение, русский текст       | 'Привет' |
| `dt`            | Время одной точки в отсчётах   | 1000     |
| `nu`            | Частота синуса (Гц)            | 1000     |
| `noise`         | Добавлять ли белый шум (bool)  | True     |
| `dev`           | Среднеквадратичное отклонение  |          |
|                 | шума в сигнале                 | 0.5      |